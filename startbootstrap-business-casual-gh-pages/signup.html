<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign Up - BookSwap Hub</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-dark text-light d-flex justify-content-center align-items-center vh-100">

<div class="container text-center">
  <h1 class="text-warning">BookSwap Hub</h1>
  <h2 class="mb-4">Sign Up</h2>

  <div class="bg-light text-dark p-4 rounded shadow-sm w-50 mx-auto">
    <form id="signupForm">
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="text" id="username" class="form-control" placeholder="Enter Username" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Password</label>
        <input type="password" id="password" class="form-control" placeholder="Enter Password" required>
      </div>
      <div class="mb-3">
        <label for="role" class="form-label">Sign Up As</label>
        <select id="role" class="form-select">
          <option value="customer">Customer</option>
          <option value="provider">Provider</option>
        </select>
      </div>

      <div class="mb-3" id="inviteCodeContainer" style="display: none;">
        <label for="inviteCode" class="form-label">Provider Invite Code</label>
        <input type="text" id="inviteCode" class="form-control" placeholder="Enter your invite code">
      </div>

      <button type="submit" class="btn btn-warning w-100">Sign Up</button>
    </form>
  </div>
</div>

<script>
  document.getElementById("role").addEventListener("change", function() {
      let inviteCodeField = document.getElementById("inviteCodeContainer");
      inviteCodeField.style.display = (this.value === "provider") ? "block" : "none";
  });

  document.getElementById("signupForm").addEventListener("submit", function(event) {
      event.preventDefault();

      let role = document.getElementById("role").value;
      let inviteCode = document.getElementById("inviteCode").value;

      if (role === "customer") {
          window.location.href = "customer/customer.html"; // Redirect customer to their dashboard
      } else if (role === "provider") {
          if (inviteCode === "PROVIDER2025") { // Secret code to sign up as a provider
              window.location.href = "provider/home.html"; // Redirect provider to their dashboard
          } else {
              alert("Invalid invite code. Please contact support for provider access.");
          }
      }
  });
</script>


</body>
</html>
